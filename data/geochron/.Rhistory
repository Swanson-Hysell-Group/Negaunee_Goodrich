setwd("~/Github/Negaunee_Goodrich/data/geochron")
library(dplyr)
library(IsoplotR)
library(scales)
library(stringr)
library(ggplot2)
library(common)
##### Function for splitting up samples in output table from Iolite and getting into isoplotr format####
splt_data<-function(df,sample,prop){
if(prop==TRUE){
samp<-df%>%
filter(str_detect(X,regex(sample)))%>%
select(c("X238U.206Pb","X238U.206Pb.2SE.prop.","X207Pb.206Pb",
"X207Pb.206Pb.2SE.prop.","Err.Corr.7.6.v.8.6")) %>%
distinct()%>%
na.omit(samp)
read.data(samp,method='U-Pb',format=2,ierr=2)
}
else{
samp<-df%>%
filter(str_detect(X,regex(sample)))%>%
select(c("X238U.206Pb","X238U.206Pb.2SE.int.",
"X207Pb.206Pb","X207Pb.206Pb.2SE.int.","Err.Corr.7.6.v.8.6")) %>%
distinct()%>%
na.omit(samp)
read.data(samp,method='U-Pb',format=2,ierr=2)
}
}
########### Read in upb file #############
upb_data<-read.csv("U_Pb_data.csv")
jk23<-splt_data(upb_data,"JK23",TRUE)
jk25<-splt_data(upb_data,"JK_25_G",TRUE)
jk21<-splt_data(upb_data,"JK_21_G_Band",TRUE)
vein<-splt_data(upb_data,"JK_21_G_Vein",TRUE)
Fe_grab<-splt_data(upb_data,"Fe-Grab",TRUE)
fe_pts<-c(1,13,38,22,15,40,31,25,28,44,34,4,33,35,
45,36,39,30,10,8,41,37,17,42)
concordia(Fe_grab,type=2,tlim=c(5200:460),ellipse.fill = alpha('#de2d26',0.6),ticks = 10,show.numbers =FALSE,
concordia.col = 'black',show.age = 2,oerr=2,common.Pb = 0,hide=fe_pts,cex.lab=(2),cex.axis=(1.5))
pdf("../../../figures/geochron/Fe_Grab.pdf")
pdf("../../figures/geochron/Fe_Grab.pdf")
concordia(Fe_grab,type=2,tlim=c(5200:460),ellipse.fill = alpha('#de2d26',0.6),ticks = 10,show.numbers =FALSE,
concordia.col = 'black',show.age = 2,oerr=2,common.Pb = 0,hide=fe_pts,cex.lab=(2),cex.axis=(1.5))
dev.off()

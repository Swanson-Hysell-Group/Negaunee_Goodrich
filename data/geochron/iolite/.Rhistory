install.packages('tidyverse')
library('ggplot2')
install.packages('rlang')
install.packages('tidyverse')
install.packages('tideyverse')
install.packages('rlang')
install.packages('tidyverse')
library('ggplot2')
install.packages("ggplot2")
install.packages('tidyverse')
library('ggplot2')
library('ggplot2')
install.packages(c("corrplot", "extrafont", "factoextra", "raster", "rgdal", "sf", "sp", "useful"))
install.packages('SDAR')
install.packages('paleoDB')
install.packages('paleobioDB')
library('raster')
library(raster)
library(paleobioDB)
install.packages(raster)
install.packages('raster')
library(raster)
install.packages(c("dplyr", "factoextra", "raster", "rgdal", "sf", "sp"))
install.packages("raster")
install.packages("paleobioDB")
install.packages(c("dplyr", "factoextra", "raster", "rgdal", "sf", "sp"))
install.packages(c("backports", "BH", "boot", "callr", "class", "cli", "clipr", "cluster", "codetools", "colorspace", "crayon", "curl", "DBI", "dbplyr", "digest", "ellipsis", "evaluate", "fansi", "forcats", "fs", "generics", "glue", "haven", "hms", "htmltools", "httr", "jsonlite", "KernSmooth", "knitr", "labeling", "lattice", "lubridate", "magrittr", "markdown", "MASS", "mime", "modelr", "nlme", "nnet", "openssl", "pkgconfig", "plyr", "prettyunits", "processx", "progress", "ps", "purrr", "R6", "Rcpp", "readr", "reprex", "reshape2", "rlang", "rmarkdown", "rpart", "rstudioapi", "rvest", "scales", "selectr", "spatial", "stringi", "survival", "sys", "tidyverse", "tinytex", "utf8", "whisker", "withr", "xfun", "xml2", "yaml"))
install.packages(c("dplyr", "factoextra", "raster", "rgdal", "sf", "sp"))
install.packages(c("backports", "callr", "class", "cluster", "colorspace", "cpp11", "digest", "ellipsis", "fansi", "fs", "glue", "htmltools", "jsonlite", "KernSmooth", "knitr", "lattice", "lubridate", "magrittr", "MASS", "mime", "nlme", "nnet", "openssl", "processx", "ps", "purrr", "Rcpp", "reprex", "reshape2", "rlang", "spatial", "stringi", "survival", "sys", "tinytex", "utf8", "xfun", "xml2"))
as.POSIXct("2016-07-01 01:00:00", tz="UTC")
as.POSIXct("2016-07-01 01:00:00", tz="America/Denver")
install.packages("rgdal")
install.packages("rgdal",repo = 'https://mac.R-project.org')
library(dplyr)
install.packages(dplyr)
install.packages("tidyverse")
install.packages("dplyr")
library(dplyr)
version
update
version
install.packages(dpylr)
install.packages("dpylr")
install.packages("tidyverse")
library(dplyr)
library(dplyr)
install.packages(vctrs)
install.packages("vctrs")
library(dplyr)
q()
setwd("Github/Vulcan_Iron_Formation/data/geochron/iolite")
library(dplyr)
library(IsoplotR)
library(scales)
library(stringr)
library(ggplot2)
##### Function for splitting up samples in output table from Iolite and getting into isoplotr format####
splt_data<-function(df,sample,prop){
if(prop==TRUE){
samp<-df%>%
filter(str_detect(X,regex(sample)))%>%
select(c("Final.U238.Pb206_mean","Final.U238.Pb206_prop2SE","Final.Pb207.Pb206_mean",
"Final.Pb207.Pb206_prop2SE","rho.207Pb.206Pb.v.238U.206Pb")) %>%
na.omit(samp)
read.data(samp,method='U-Pb',format=2,ierr=2)
}
else{
samp<-df%>%
filter(str_detect(X,regex(sample)))%>%
select(c("Final.U238.Pb206_mean","Final.U238.Pb206_2SE",
"Final.Pb207.Pb206_mean","Final.Pb207.Pb206_2SE","rho.207Pb.206Pb.v.238U.206Pb")) %>%
na.omit(samp)
read.data(samp,method='U-Pb',format=2,ierr=2)
}
}
ref_uncert<-function(df,three_eight,seven_six){
data<- df%>%
mutate("HFO_seven_six_2se"= seven_six, "HFO_six_eight_2SE"=three_eight)%>%
na.omit(data)
}
# HFO Abs reference values which are taken as the reciprocal for the 238/06
HFO_three_eight_mean=1/0.12216
HFO_three_eight_se=1/0.0021
HFO_seven_six_mean=0.9167
HFO_seven_six_se=0.0061
########### Read in iolite file #############
april_day_01<-read.csv('0424_day1.csv')
april_day_02<-read.csv('0424_day2.csv')
april_day_03<-read.csv('0424_day3.csv')
nov<-read.csv("nov.csv")
jk25_liam<-read.csv("jk25_liam.csv")
shared_cols<-intersect(colnames(april_day_01),colnames(april_day_02))
jk_cols<-intersect(colnames(april_day_02),colnames(nov))
all_data<-rbind(april_day_01[,shared_cols],april_day_02[,shared_cols],april_day_03[,shared_cols])
jk22_01<-splt_data(april_day_01,"JK22",TRUE)
jk22_02<-splt_data(april_day_02,"JK22",TRUE)
jk22_both<-splt_data(all_data,"JK22",TRUE)
jk23_01<-splt_data(april_day_01,"JK23",TRUE)
jk23_02<-splt_data(april_day_02,"JK23",TRUE)
jk23_both<-splt_data(all_data,"JK23",TRUE)
jk25_01<-splt_data(nov,"JK_25_G",TRUE)
jk25_02<-splt_data(april_day_02, "JK25_2",TRUE)
jk25_both<-splt_data(rbind(april_day_02[,jk_cols],nov[,jk_cols]),"JK25",TRUE)
#jk25_both<-splt_data(jk25_liam,"JK25",FALSE)
jk32<-splt_data(april_day_03,"JK32",TRUE)
jk34<-splt_data(april_day_03,"JK34",TRUE)
jk36<-splt_data(april_day_02,"JK36",TRUE)
jk10<-splt_data(april_day_03,"JK10",TRUE)
jk21<-splt_data(nov,"JK_21_G_Band",TRUE)
jk21_02<-splt_data(april_day_03,"JK21_band",TRUE)
vein<-splt_data(nov,"JK_21_G_Vein",TRUE)
vein_02<-splt_data(april_day_03,"JK21_vein",TRUE)
NF10<-splt_data(april_day_01,"NF10",TRUE)
NF9<-splt_data(april_day_01,"NF9",TRUE)
jk3<-splt_data(april_day_03,"JK3_mph",TRUE)
Fe_grab<-splt_data(nov,"Fe-Grab",TRUE)
april_day_01$HFO_six_seven_2SE<-HFO_seven_six_se
View(april_day_01)
april_day_01$HFO_six_seven_2SE
april_day_01$HFO_six_eight_2SE<-HFO_three_eight_se
ref_uncert<-function(df){
df%>%
mutate("full_six_eight"=(HFO_six_eight_2SE**2+Final.Pb206.U238_prop2SE**2)**0.5)%>%
na.omit(data)
}
ref_uncert(april_day_01)
ref_uncert<-function(df){
df%>%
mutate("full_six_eight"=((HFO_six_eight_2SE**2)+(Final.Pb206.U238_prop2SE**2))**0.5)%>%
na.omit(data)
}
ref_uncert<-function(df){
df%>%
mutate("full_six_eight"=((HFO_six_eight_2SE**2)+(Final.Pb206.U238_prop2SE**2))**0.5)%>%
na.omit(data)
}
ref_uncert(april_day_01)
april_day_01$HFO_six_eight_2SE**2
